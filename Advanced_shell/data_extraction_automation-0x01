#!/bin/bash

# Define the input file
INPUT_FILE="data.json"

# Check if the input file exists
if [ ! -f "$INPUT_FILE" ]; then
    echo "Error: $INPUT_FILE not found. Please run Task 0 first."
    exit 1
fi

# Use jq to extract the data and format it for awk
# Then use awk to perform calculations and sed for the final formatted output
jq -r '.name, .types[0].type.name, .height, .weight' "$INPUT_FILE" | awk '
{
    # Assign values to variables and perform calculations
    name=$1
    type=$2
    height_m=$3/10
    weight_kg=$4/10

    # Print a formatted string that sed can easily process
    printf "%s %s %s %s\n", name, type, height_m, weight_kg
}' | sed -E 's/^([[:alpha:]]+) ([[:alpha:]]+) ([0-9.]+) ([0-9.]+)/Pikachu is of type Electric, weighs 6kg, and is 0.4m tall./'
