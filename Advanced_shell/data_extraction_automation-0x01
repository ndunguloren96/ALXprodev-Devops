#!/bin/bash

# Define the input file
INPUT_FILE="data.json"

# Check if the input file exists
if [ ! -f "$INPUT_FILE" ]; then
    echo "Error: $INPUT_FILE not found. Please run Task 0 first."
    exit 1
fi

# Extract name, height, weight, and type using jq, then pipe to awk for formatting
jq -r '[.name, .types[0].type.name, .height, .weight]' "$INPUT_FILE" | awk -F'\"' '{
    # Assign the values from the jq output
    name = $2
    type = $6
    height = $8
    weight = $10

    # Format height and weight to meters and kilograms
    formatted_height = height / 10
    formatted_weight = weight / 10

    # Capitalize the first letter of the name and type
    name = toupper(substr(name, 1, 1)) substr(name, 2)
    type = toupper(substr(type, 1, 1)) substr(type, 2)
    
    # Print the formatted output
    printf "%s is of type %s, weighs %skg, and is %sm tall.\n", name, type, formatted_weight, formatted_height
}'
